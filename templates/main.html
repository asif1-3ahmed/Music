<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Dolsy Music ‚Äî Sidebar Navigation</title>
<style>
:root {
  --radius:16px;
  --sidebar-bg:#fff;
  --sidebar-hover:rgba(0,0,0,0.08);
  --text-color:#fff;
  --option-color:#000;
  --icon-red:#ff4c4c;
}
*{box-sizing:border-box;margin:0;padding:0}
body {
  font-family:"Poppins", sans-serif;
  background: linear-gradient(135deg,#111 0%,#222 100%);
  color: var(--text-color);
  min-height:100vh;
  display:flex;
  transition: background 0.5s ease, color 0.5s ease;
}

/* Sidebar */
.sidebar {
  width:260px;
  min-height:100vh;
  background: var(--sidebar-bg);
  color: var(--option-color);
  display:flex;
  flex-direction:column;
  align-items:center;
  position:fixed;
  top:0;
  left:0;
  padding:28px 20px;
  backdrop-filter:blur(18px) saturate(180%);
  box-shadow:6px 0 24px rgba(0,0,0,0.25);
  transition: transform 0.3s ease, color 0.5s ease;
  z-index:200;
  overflow-y:auto;
}
.sidebar.closed { transform: translateX(-100%); }

.profile { text-align:center;margin-bottom:30px; }
.profile img {
  width:90px;height:90px;border-radius:50%;
  object-fit:cover;border:3px solid #000;
  cursor:pointer;transition:transform .3s ease;
}
.profile img:hover{transform:scale(1.05);}
.profile input{display:none;}
.profile p{margin-top:12px;font-weight:600;color:var(--option-color);}

.menu {width:100%;}
.menu a, .menu .sub-option {
  display:flex;
  align-items:center;
  gap:12px;
  text-decoration:none;
  padding:12px 16px;
  margin-bottom:10px;
  font-size:16px;
  border-radius:var(--radius);
  color: var(--option-color);
  font-weight:500;
  transition:all .3s ease;
  cursor:pointer;
}
.menu a.active, .menu .sub-option.active {
  background:#000;color:#fff;transform:translateX(6px);
}
.menu a:hover:not(.active), .menu .sub-option:hover:not(.active){
  background:var(--sidebar-hover);
  transform:translateX(6px);
}
.menu .sub-option { padding-left:30px; display:none; }
.menu a .music-icon, header .music-icon { color: var(--icon-red); }

/* Content */
.content {
  margin-left:260px;
  flex:1;
  padding:32px;
  transition: margin-left 0.3s ease;
  display:flex;
  flex-direction:column;
  align-items:center;
}
.content.full { margin-left:0; }

/* Centered Box for Main Page Only */
.header-box {
  width:90%;
  max-width:800px;
  background: rgba(255,255,255,0.05);
  padding:20px 30px;
  border-radius: var(--radius);
  display:flex;
  flex-direction:column;
  align-items:center;
  box-shadow:0 6px 20px rgba(0,0,0,0.3);
  margin-bottom:20px;
}

.header-box h1 {
  font-size:36px;
  font-weight:700;
  color:var(--text-color);
  text-align:center;
  margin-bottom:16px;
}
.header-box #searchBar {
  width:100%;
  max-width:600px;
  padding:12px 18px;
  border-radius:var(--radius);
  border:none;
  font-size:16px;
  outline:none;
}

/* Toggle Button */
.toggle-btn {
  font-size:22px;
  cursor:pointer;
  background:#fff;
  color:#000;
  padding:8px 14px;
  border-radius:var(--radius);
  border:none;
  margin-right:16px;
  transition:all .3s ease;
  position:absolute;left:20px;
}
.toggle-btn:hover { background:#000;color:#fff;border:1px solid #fff; }

/* Album Slider Section */
.album-section {
  width:100%;
  max-width:1200px;
  margin-bottom:40px;
  padding:20px;
  background: rgba(255,255,255,0.05);
  border-radius: var(--radius);
  box-shadow:0 6px 20px rgba(0,0,0,0.3);
}
.album-slider {
  width: 100%;
  overflow: hidden;
  margin-bottom: 20px;
}
.album-track {
  display: flex;
  gap: 28px;
}
.album {
  flex: 0 0 260px;
  background: rgba(255,255,255,0.05);
  border-radius: var(--radius);
  box-shadow: 0 6px 20px rgba(0,0,0,0.3);
  text-align:center;
  overflow:hidden;
  transition:transform .3s ease;
}
.album img { width:100%; height:260px; object-fit:cover; display:block; }
.album:hover{transform:scale(1.06);}
.album p { padding:12px;font-size:16px;color:#eee; }

/* Slider Animations */
.album-track.row1 { animation: slide-left 30s linear infinite; }
.album-track.row2 { animation: slide-right 30s linear infinite; }
.album-track.row3 { animation: slide-left 28s linear infinite; }
.album-track.row4 { animation: slide-right 28s linear infinite; }
.album-track.row5 { animation: slide-left 26s linear infinite; }
.album-track.row6 { animation: slide-right 26s linear infinite; }
.album-track.row7 { animation: slide-left 24s linear infinite; }

@keyframes slide-left { 0% { transform: translateX(0); } 100% { transform: translateX(-50%); } }
@keyframes slide-right { 0% { transform: translateX(-50%); } 100% { transform: translateX(0); } }

footer { margin-top:50px;text-align:center;color:#aaa;font-size:14px;width:100%; }

@media(max-width:1024px){ .album { flex:0 0 45%; } }
@media(max-width:780px){ .album { flex:0 0 48%; } .header-box #searchBar{width:80%;} }
@media(max-width:500px){ .album { flex:0 0 100%; } .header-box #searchBar{width:90%;} }
</style>
</head>
<body>
  <!-- Sidebar -->
  <aside class="sidebar" id="sidebar">
    <div class="profile">
      <label for="upload">
        <img src="https://via.placeholder.com/90" id="profile-pic" alt="Profile">
      </label>
      <input type="file" id="upload" accept="image/*" onchange="loadProfile(event)">
      <p id="usernameDisplay">Welcome, User</p>
    </div>
    <div class="menu">
      <a href="#" onclick="loadPage('home', this)">üè† Home</a>
      <a href="#" onclick="loadPage('albums', this)"><span class="music-icon">üéµ</span> Albums</a>
      <a href="#" onclick="loadPage('library', this)">üìÇ Library</a>
      <a href="#" onclick="loadPage('uploadSong', this)">‚¨ÜÔ∏è Upload Song</a>
      <a href="#" onclick="toggleThemeOptions()">‚öôÔ∏è Settings</a>

      <!-- Theme Options -->
      <div class="sub-option" onclick="changeTheme('dark')">üåë Dark</div>
      <div class="sub-option" onclick="changeTheme('light')">üåû Light</div>
      <div class="sub-option" onclick="changeTheme('sunset')">üåÖ Sunset</div>
      <div class="sub-option" onclick="changeTheme('ocean')">üåä Ocean</div>
      <div class="sub-option" onclick="changeTheme('forest')">üå≥ Forest</div>
      <div class="sub-option" onclick="changeTheme('violet')">üíú Violet</div>
      <div class="sub-option" onclick="changeTheme('candy')">üç≠ Candy</div>
      <div class="sub-option" onclick="changeTheme('lime')">üçã Lime</div>
      <div class="sub-option" onclick="changeTheme('fire')">üî• Fire</div>
      <div class="sub-option" onclick="changeTheme('sky')">‚òÅÔ∏è Sky</div>

      <a href="loginpage.html">üö™ Logout</a>
      <input type="file" id="songUpload" accept="audio/*" style="display:none" onchange="handleSongUpload(event)">
    </div>
  </aside>

  <!-- Main Content -->
  <div class="content" id="content">
    <button class="toggle-btn" onclick="toggleSidebar()">‚ò∞</button>
    <div id="page"></div>
    <footer>¬© 2025 Dolsy Music</footer>
  </div>

  <script>
    function toggleSidebar(){
      document.getElementById('sidebar').classList.toggle('closed');
      document.getElementById('content').classList.toggle('full');
    }

    function toggleThemeOptions(){
      document.querySelectorAll(".sub-option").forEach(el=>el.style.display = 
        el.style.display === 'flex' ? 'none' : 'flex'
      );
    }

    function loadPage(page, link){
      const pageContainer = document.getElementById("page");
      document.querySelectorAll(".menu a").forEach(a => a.classList.remove("active"));
      if(link) link.classList.add("active");

      if(page === "home"){
        // Only main page has header-box with search + title
        pageContainer.innerHTML = `<div class="header-box">
          <h1>DOLSY MUSIC <span class="music-icon">üéµ</span></h1>
          <input type="text" id="searchBar" placeholder="Search Music" onkeyup="performSearch(event)">
        </div>` +
        Array.from({length:7},(_,r)=>{
          return `<div class="album-slider">
            <div class="album-track row${r+1}">
              ${Array.from({length:8},(_,i)=>`<div class="album">
              <img src="https://picsum.photos/500?random=${r*8+i+1}">
              <p>Album ${r*8+i+1}</p></div>`).join('')}
            </div>
          </div>`;
        }).join('');
      } else if(page === "albums"){
        pageContainer.innerHTML = <h2>Albums üéµ</h2><p>Albums section coming soon...</p>;
      } else if(page === "library"){
        pageContainer.innerHTML = <h2>Your Library üìÇ</h2><p>All your saved music will appear here.</p>;
      } else if(page === "uploadSong"){
        document.getElementById("songUpload").click();
        pageContainer.innerHTML = <h2>Upload Song ‚¨ÜÔ∏è</h2><p>Select a song from your file manager.</p>;
      }
    }

    function changeTheme(theme){
      document.querySelectorAll(".sub-option").forEach(el=>el.classList.remove("active"));
      const el = document.querySelector(.sub-option[onclick*="${theme}"]);
      if(el) el.classList.add("active");

      switch(theme){
        case "dark":
          document.body.style.background = "linear-gradient(135deg,#111 0%,#222 100%)";
          document.body.style.color = "#fff";
          document.documentElement.style.setProperty('--option-color','#fff');
          break;
        case "light":
          document.body.style.background = "linear-gradient(135deg,#f5f5f5 0%,#e0e0e0 100%)";
          document.body.style.color = "#111";
          document.documentElement.style.setProperty('--option-color','#000');
          break;
        case "sunset":
          document.body.style.background = "linear-gradient(135deg,#ff7e5f 0%,#feb47b 100%)";
          document.body.style.color = "#fff";
          break;
        case "ocean":
          document.body.style.background = "linear-gradient(135deg,#00c6ff 0%,#0072ff 100%)";
          document.body.style.color = "#fff";
          break;
        case "forest":
          document.body.style.background = "linear-gradient(135deg,#00b09b 0%,#96c93d 100%)";
          document.body.style.color = "#fff";
          break;
        case "violet":
          document.body.style.background = "linear-gradient(135deg,#8e2de2 0%,#4a00e0 100%)";
          document.body.style.color = "#fff";
          break;
        case "candy":
          document.body.style.background = "linear-gradient(135deg,#f79d00 0%,#64f38c 100%)";
          document.body.style.color = "#fff";
          break;
        case "lime":
          document.body.style.background = "linear-gradient(135deg,#a8ff78 0%,#78ffd6 100%)";
          document.body.style.color = "#000";
          break;
        case "fire":
          document.body.style.background = "linear-gradient(135deg,#f12711 0%,#f5af19 100%)";
          document.body.style.color = "#fff";
          break;
        case "sky":
          document.body.style.background = "linear-gradient(135deg,#2980b9 0%,#6dd5fa 100%)";
          document.body.style.color = "#fff";
          break;
      }
    }

    function loadProfile(event){
      document.getElementById("profile-pic").src = URL.createObjectURL(event.target.files[0]);
    }

    function handleSongUpload(event){
      const file = event.target.files[0];
      if(file){ alert(Song uploaded: ${file.name}); }
    }

    window.onload = () => {
      const username = localStorage.getItem("username") || "User";
      document.getElementById("usernameDisplay").innerText = Welcome, ${username};
      loadPage("home", document.querySelector(".menu a"));
    }
  </script>
</body>
</html>
